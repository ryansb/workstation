---
- yum: name={{ item }} state=latest
  sudo: true
  with_items:
  - python-gertty
  - task
  - vit
  tags:
  - packages
  when: ansible_distribution == 'Fedora'

- yum: name={{ item }} state=absent
  sudo: true
  with_items:
  - evolution-help
  - evolution-ews
  - evolution
  tags:
  - packages

- include: teensy.yml
  when: ansible_distribution == 'Fedora' and teensy_dev == true

- include: github.yml

- yum: name=msmtp state=latest
  sudo: true
  tags:
  - packages

- shell: creates=~/.local/bin/bugwarrior-pull
         pipsi install bugwarrior

- shell: creates=~/.local/bin/taskforge
         pipsi install taskforge

- shell: creates=~/.local/bin/aws
         pipsi install awscli

- file: path=~/.aws state=directory

- template: src={{ item }}
            dest=~/.{{ item }}
  with_items:
  - bugwarriorrc
  - gertty.yaml
  - mailrc
  - msmtprc
  - taskforgerc
  - aws/config

# msmtp wants its config to be secret
- file: path=~/.msmtprc mode=0600
- file: path=~/.bugwarriorrc mode=0600
