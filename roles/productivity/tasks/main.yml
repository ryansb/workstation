---
- yum: name={{ item }} state=latest
  sudo: true
  with_items:
  - python-gertty
  - task
  - vit
  tags:
  - packages
  when: ansible_distribution == 'Fedora'

- include: teensy.yml
  when: ansible_distribution == 'Fedora' and teensy_dev == true

- yum: name=msmtp state=latest
  sudo: true
  tags:
  - packages

- shell: creates=~/.local/bin/bugwarrior-pull
         pipsi install bugwarrior

- shell: creates=~/.local/bin/taskforge
         pipsi install taskforge

- shell: creates=~/.local/bin/aws
         pipsi install awscli

- file: path=~/.aws state=directory

- stat: path="{{ ansible_user_dir }}/.bin/hub"
  register: gh_binary

- get_url: url="{{ hub_release }}"
           dest=/tmp/hub-linux-amd64-{{ hub_version }}.tar.gz
  when: gh_binary.stat.exists == False

- unarchive: src=/tmp/hub-linux-amd64-{{ hub_version }}.tar.gz
             dest=/tmp
  when: gh_binary.stat.exists == False

- copy: src=/tmp/hub-linux-amd64-{{ hub_version }}/hub
        dest="{{ ansible_user_dir }}/.bin/hub"
        mode=0755
  when: gh_binary.stat.exists == False

- template: src={{ item }}
            dest=~/.{{ item }}
  with_items:
  - bugwarriorrc
  - gertty.yaml
  - mailrc
  - msmtprc
  - taskforgerc
  - aws/config
